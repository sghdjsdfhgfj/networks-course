# Практика 1. Wireshark: HTTP
Эта работа исследует несколько аспектов протокола HTTP: базовое взаимодействие GET/ответ,
форматы сообщений HTTP, получение больших файлов HTML, получение файлов HTML со
встроенными объектами, а также проверку подлинности и безопасность HTTP.

Во всех заданиях (а также во всех следующих лабах) предполагается, что вы к своему ответу 
приложите **подтверждающий скрин** программы Wireshark (достаточно одного скрина на задание).

## Задание 1. Базовое взаимодействие HTTP GET/response (2 балла)

#### Подготовка
1. Запустите веб-браузер.
2. Запустите анализатор пакетов Wireshark, но пока не начинайте захват пакетов. Введите
   «http» в окне фильтра, чтобы позже в окне списка пакетов отображались только захваченные сообщения HTTP.
3. Подождите несколько секунд, а затем начните захват пакетов Wireshark.
4. Введите в браузере адрес: http://gaia.cs.umass.edu/wireshark-labs/HTTP-wireshark-file1.html.  
   Ваш браузер должен отобразить очень простой однострочный HTML-файл.
5. Остановите захват пакетов Wireshark.

#### Вопросы
1. Использует ли ваш браузер HTTP версии 1.0 или 1.1? Какая версия HTTP работает на
   сервере?
   - И браузер, и сервер используют HTTP/1.1, как видно отсюда:
     <img width="578" height="89" alt="image" src="https://github.com/user-attachments/assets/d70a67c5-796e-44eb-b055-a31ccc34bb9d" />
     <img width="414" height="105" alt="image" src="https://github.com/user-attachments/assets/ed48ad1a-18df-4ca1-8334-c96a7b50ec50" />
2. Какие языки (если есть) ваш браузер может принимать? В захваченном сеансе какую еще
   информацию (если есть) браузер предоставляет серверу относительно пользователя/браузера?
   - Указанные языки (если подразумевались человеческие): только английский. Также браузер передаёт серверу строку User-Agent (из которой видно, что я пользуюсь Firefox 147.0 под Linux), а также допустимые типы данных и кодировки.
     <img width="822" height="159" alt="image" src="https://github.com/user-attachments/assets/2adf182d-a7db-494d-901a-b0a70a3be13b" />
3. Какой IP-адрес вашего компьютера? Какой адрес сервера gaia.cs.umass.edu?
   - IP-фдрес компьютера: 192.168.0.4; IP-адрес сервера: 128.119.245.12
     <img width="641" height="262" alt="image" src="https://github.com/user-attachments/assets/45e6c04b-d951-4165-96e4-8bb18eafdbd1" />
4. Какой код состояния возвращается с сервера на ваш браузер?
   - 200/OK (см. скриншот для ответа 1)
5. Когда HTML-файл, который вы извлекаете, последний раз модифицировался на сервере?
   - 28 октября 2025 года в 05:59:01 по GMT
     <img width="930" height="261" alt="image" src="https://github.com/user-attachments/assets/e729dc76-98fe-4f52-bc9e-3b5543e0f474" />
6. Сколько байтов контента возвращается вашему браузеру?
   - 128

## Задание 2. HTTP CONDITIONAL GET/response (2 балла)
Большинство веб-браузеров выполняют кэширование объектов и, таким образом, выполняют
условный GET при извлечении объекта HTTP. Прежде чем выполнять описанные ниже шаги, 
убедитесь, что кеш вашего браузера пуст.

#### Подготовка
1. Запустите веб-браузер и убедитесь, что кэш браузера очищен.
2. Запустите анализатор пакетов Wireshark.
3. Введите следующий URL-адрес в адресную строку браузера:
   http://gaia.cs.umass.edu/wireshark-labs/HTTP-wireshark-file2.html.  
   Ваш браузер должен отобразить очень простой пятистрочный HTML-файл.
4. Введите тот же URL-адрес в браузер еще раз (или просто нажмите кнопку обновления в
   браузере).
5. Остановите захват пакетов Wireshark и введите «http» в окне фильтра, чтобы в окне списка
   пакетов отображались только захваченные HTTP-сообщения.

#### Вопросы
1. Проверьте содержимое первого HTTP-запроса GET. Видите ли вы строку «IF-MODIFIED-SINCE» в HTTP GET?
   - Нет
     <img width="930" height="261" alt="image" src="https://github.com/user-attachments/assets/38dd0034-6178-4ff3-991c-3d1468d4e2b2" />
2. Проверьте содержимое ответа сервера. Вернул ли сервер содержимое файла явно? Как вы
   это можете увидеть?
   - Да, вернул. Wireshark может показать содержимое в секции Line-based text data пакета ответа от сервера
     <img width="960" height="276" alt="image" src="https://github.com/user-attachments/assets/5f93ea73-7b87-4d13-bf7c-883d0ab0121e" />
3. Теперь проверьте содержимое второго HTTP-запроса GET (из вашего браузера на сторону
   сервера). Видите ли вы строку «IF-MODIFIED-SINCE» в HTTP GET? Если да, то какая
   информация следует за заголовком «IF-MODIFIED-SINCE»?
   - Во втором запросе есть поле If-Modified-Since, и в нём указана дата изменения файла (та же самая, которая находилась в поле Last-Modified ответа на первый запрос)
     <img width="964" height="242" alt="image" src="https://github.com/user-attachments/assets/3516c104-d1e0-400f-8ff4-959c00212ca8" />
4. Какой код состояния HTTP и фраза возвращаются сервером в ответ на этот второй запрос
   HTTP GET? Вернул ли сервер явно содержимое файла?
   - Возвращается код 304/Not Modified, без явного содержимого файла
     <img width="966" height="416" alt="image" src="https://github.com/user-attachments/assets/7ec92043-0c12-4dd8-97d5-0b438641281f" />

## Задание 3. Получение длинных документов (2 балла)

#### Подготовка
1. Запустите веб-браузер и убедитесь, что кэш браузера очищен.
2. Запустите анализатор пакетов Wireshark.
3. Введите следующий URL-адрес в адресную строку браузера:
   http://gaia.cs.umass.edu/wireshark-labs/HTTP-wireshark-file3.html  
   В браузере должен отобразиться довольно длинный текст.
4. Остановите захват пакетов Wireshark и введите «http» в окне фильтра.

#### Вопросы
1. Сколько сообщений HTTP GET отправил ваш браузер? Какой номер пакета в трассировке
   содержит сообщение GET?
   - Браузер отправил 2 сообщения GET (для самого содержимого HTML файла и для иконки сайта). Они имеют номер трассировки 21 и 27 соответственно.
   - <img width="1220" height="71" alt="image" src="https://github.com/user-attachments/assets/13b3e38a-5288-4010-9227-80fb45e6fc99" />
2. Какой номер пакета в трассировке содержит код состояния и фразу, связанные с ответом
   на HTTP-запрос GET?
   - Номер пакета 23
3. Сколько сегментов TCP, содержащих данные, потребовалось для передачи одного HTTP ответа?
   - Два сегмента
     <img width="962" height="109" alt="image" src="https://github.com/user-attachments/assets/39017470-4226-4713-99be-2be2377c55a1" />
4. Есть ли в передаваемых данных какая-либо информация заголовка HTTP, связанная с
   сегментацией TCP?
   - Нет
     <img width="949" height="359" alt="image" src="https://github.com/user-attachments/assets/bd43cb8b-f826-448f-8090-e352c177c351" />

## Задание 4. HTML-документы со встроенными объектами (2 балла)
Исследуйте, что происходит, когда ваш браузер загружает файл со встроенными объектами, т. е. файл, 
включающий в себя другие объекты (в данном примере это файлы и картинки),
которые хранятся на другом сервере (серверах).

#### Подготовка
1. Запустите веб-браузер и убедитесь, что кэш браузера очищен.
2. Запустите анализатор пакетов Wireshark.
3. Введите следующий URL-адрес в адресную строку браузера:
   http://gaia.cs.umass.edu/wireshark-labs/HTTP-wireshark-file4.html.  
   Ваш браузер должен отобразить HTML-файл с двумя изображениями. На эти два изображения есть ссылки в
   базовом файле HTML. То есть сами изображения не содержатся в HTML, вместо этого URL-
   адреса изображений содержатся в загруженном файле HTML. Ваш браузер должен
   получить эти изображения с указанных веб-сайтов.
4. Остановите захват пакетов Wireshark и введите «http» в окне фильтра.

#### Вопросы
1. Сколько HTTP GET запросов было отправлено вашим браузером? На какие интернет-адреса были отправлены эти GET-запросы?
   - Было отправлено 4 запроса GET на адреса:
     - http://gaia.cs.umass.edu/wireshark-labs/HTTP-wireshark-file4.html
     - http://gaia.cs.umass.edu/favicon.ico
     - http://gaia.cs.umass.edu/pearson.png
     - http://kurose.cslash.net/8E_cover_small.jpg
   <img width="1920" height="161" alt="image" src="https://github.com/user-attachments/assets/1f7af012-263d-4f79-a75d-60b6d925846e" />
2. Можете ли вы сказать, загрузил ли ваш браузер два изображения последовательно или
   они были загружены с веб-сайтов параллельно? Объясните.
   - Браузер заргузил изображения параллельно, так как запрос GET для второго изображения был отправлен раньше, чем пришёл ответ от сервера для первого изображения.

## Задание 5. HTTP-аутентификация (2 балла)
Запустите веб-сайт, защищенный паролем, и исследуйте последовательность HTTP-сообщений, которыми обмениваются такие сайты.

#### Подготовка
1. Убедитесь, что кеш вашего браузера очищен.
2. Запустите анализатор пакетов Wireshark.
3. Введите следующий URL-адрес в адресную строку браузера:
   http://gaia.cs.umass.edu/wireshark-labs/protected_pages/HTTP-wireshark-file5.html
4. Введите требуемые имя пользователя и пароль во всплывающем окне  
   (Имя пользователя — «wireshark-students», пароль — «network»).
5. Остановите захват пакетов Wireshark и введите «http» в окне фильтра

#### Вопросы
1. Каков ответ сервера (код состояния и фраза) в ответ на начальное HTTP-сообщение GET от вашего браузера?
   - 401 Unauthorized
     <img width="1920" height="128" alt="image" src="https://github.com/user-attachments/assets/4805a33b-24ee-47af-94b4-6dc729b103ca" />
2. Когда ваш браузер отправляет сообщение HTTP GET во второй раз, какое новое поле включается в сообщение HTTP GET?
   - Authorization: Basic с логином и паролем в base64 в незашифрованном виде
     <img width="964" height="332" alt="image" src="https://github.com/user-attachments/assets/6ceed805-8dd6-4c91-85ee-43cbc1524f5e" />

